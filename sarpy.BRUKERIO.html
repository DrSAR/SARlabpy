
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>sarpy.BRUKERIO package &#8212; sarpy 5.0beta documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="sarpy.DCE package" href="sarpy.DCE.html" />
    <link rel="prev" title="sarpy package" href="sarpy.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sarpy.DCE.html" title="sarpy.DCE package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sarpy.html" title="sarpy package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">sarpy 5.0beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >sarpy Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="sarpy.html" accesskey="U">sarpy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">sarpy.BRUKERIO package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="sarpy-brukerio-package">
<h1>sarpy.BRUKERIO package<a class="headerlink" href="#sarpy-brukerio-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.AData_classes">
<span id="sarpy-brukerio-adata-classes-module"></span><h2>sarpy.BRUKERIO.AData_classes module<a class="headerlink" href="#module-sarpy.BRUKERIO.AData_classes" title="Permalink to this headline">¶</a></h2>
<p>Class definitions for the analysed data structures</p>
<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.AData_classes.</span></span><span class="sig-name descname"><span class="pre">AData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData.export2nii">
<span class="sig-name descname"><span class="pre">export2nii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData.export2nii" title="Permalink to this definition">¶</a></dt>
<dd><p>Export AData content to a named Nifti1 file using the visu_pars-defined
geometry of the associated parent processed data (PData)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – where to write the file, what did you think?</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sarpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span> <span class="o">=</span> <span class="n">sarpy</span><span class="o">.</span><span class="n">Scan</span><span class="p">(</span><span class="s1">&#39;PhantomOrientation.iY1/2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span><span class="o">.</span><span class="n">store_adata</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;times2&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">scn</span><span class="o">.</span><span class="n">pdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span><span class="o">.</span><span class="n">adata</span><span class="p">[</span><span class="s1">&#39;times2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">export2nii</span><span class="p">(</span><span class="s1">&#39;/tmp/PhantomOrientation-times2.nii.gz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData.fromdata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData.fromdata" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates an AData object from an array (maybe somehing else later)
It does not store it on disk. This would typically be done by the
ADataDict on assignment to a key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file" title="sarpy.BRUKERIO.BRUKER_classes.PDATA_file"><em>BRUKER_classes.PDATA_file</em></a>) – A parent has to be an object that provides a UID and has a
visu_pars attribute. Typically a PDATA_file</p></li>
<li><p><strong>data</strong> (<em>array</em>) – sourcedata</p></li>
<li><p><strong>meta</strong> (<em>dict</em><em>(</em><em>optional</em><em>)</em>) – meta information in the form of a dictionary. The following keys
will be added to it: parent_uid, created_datetime, parent_filename,
compressed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData.fromfile">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lazy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData.fromfile" title="Permalink to this definition">¶</a></dt>
<dd><p>classmethod that can be used to initiatlize the AData object
by reading the content from file. To use, issue:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adata_dir</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">adataroot</span><span class="o">+</span><span class="s1">&#39;/*/*&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># take the first dir</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adata_dir_short</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">adataroot</span><span class="o">+</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">adata_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AData</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">adata_dir_short</span><span class="p">)</span>  
<span class="go">Analysed data (&#39;...&#39;) based on PDATA (uid=...)</span>
<span class="go">  created on ...</span>
<span class="go">  parent: ...</span>
</pre></div>
</div>
<p>Admittedly this will rarely be required and most likely be done from
some other constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – points to the adataroot/uid/uid.*/ directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.AData.visu_pars">
<span class="sig-name descname"><span class="pre">visu_pars</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.AData.visu_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.ADataDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.AData_classes.</span></span><span class="sig-name descname"><span class="pre">ADataDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.ADataDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></p>
<p>A dictionary which perfoms some magic on value-by-key assignment</p>
<p>Pre-existing keys are bein checked against the new key.
This is inspired by an
<a class="reference external" href="http://stackoverflow.com/a/3387975/607562">answer on stackoverflow</a>
to the question of how to perfectly override  a dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.load_AData">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.AData_classes.</span></span><span class="sig-name descname"><span class="pre">load_AData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdatas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.load_AData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.mkdir_p">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.AData_classes.</span></span><span class="sig-name descname"><span class="pre">mkdir_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.mkdir_p" title="Permalink to this definition">¶</a></dt>
<dd><p>feature that allows the creation of the intermediate directories.
it mimics the system call of mkdir -p</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.AData_classes.silentremove">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.AData_classes.</span></span><span class="sig-name descname"><span class="pre">silentremove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/AData_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.AData_classes.silentremove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove files and don’t get upset if they don’t exist</p>
</dd></dl>

</section>
<section id="module-sarpy.BRUKERIO.BRUKER_classes">
<span id="sarpy-brukerio-bruker-classes-module"></span><h2>sarpy.BRUKERIO.BRUKER_classes module<a class="headerlink" href="#module-sarpy.BRUKERIO.BRUKER_classes" title="Permalink to this headline">¶</a></h2>
<p>Class Definitions for BRUKER data</p>
<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.AttrDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">AttrDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.AttrDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a class that behaves like a dict but gives you access to its attributes
directly</p>
<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.AttrDict.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.AttrDict.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.AttrDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.AttrDict.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.AttrDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.AttrDict.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">Experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection" title="sarpy.BRUKERIO.BRUKER_classes.StudyCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.StudyCollection</span></code></a></p>
<p>An Experiment is not BRUKER terminology. It is a grouping of several
studies (that have scans themselves) by various criteria.
Typically, the patient name contains a root pointing to a common goal
of the performed scans. It is a bit like a patient with the relaxation
of the requirement of having identical SUBJECT_ids.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.find_studies">
<span class="sig-name descname"><span class="pre">find_studies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.find_studies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.from_filter">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filterstring</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.from_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.from_masterlist">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_masterlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">masterlistname</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.from_masterlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.masterlist_df">
<span class="sig-name descname"><span class="pre">masterlist_df</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.masterlist_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.masterlist_filename">
<span class="sig-name descname"><span class="pre">masterlist_filename</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.masterlist_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Experiment.study_masterlist_df">
<span class="sig-name descname"><span class="pre">study_masterlist_df</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Experiment.study_masterlist_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.JCAMP_file">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">JCAMP_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.JCAMP_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sarpy.BRUKERIO.BRUKER_classes.AttrDict" title="sarpy.BRUKERIO.BRUKER_classes.AttrDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.AttrDict</span></code></a></p>
<p>Represents a JCAMP encoded parameter file.</p>
<p>Parameters become attributes in this class</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">PDATA_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initialize a processed data set that usually sits in <cite>*/pdata/[1-9]</cite>.</p>
<p>constructor expects a directory name (filename). It will look
for the 2dseq file, the d3proc and th reco file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.d3proc">
<span class="sig-name descname"><span class="pre">d3proc</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.d3proc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.dimcomment">
<span class="sig-name descname"><span class="pre">dimcomment</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.dimcomment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.dimdesc">
<span class="sig-name descname"><span class="pre">dimdesc</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.dimdesc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.export2nii">
<span class="sig-name descname"><span class="pre">export2nii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_mod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.export2nii" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the data originating from a 2dseq (BRUKER) reconstruction to
a Nifti file format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – where to write the file</p>
</dd>
</dl>
<p>A lot of the magic happens in visu_pars_2_Nift1Header in order to
figure out geometry.</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span> <span class="o">=</span> <span class="n">Scan</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;readfidTest.ix1&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(),</span><span class="s1">&#39;readfid.nii&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;writing tempfile </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">fname</span><span class="p">)</span> 
<span class="go">writing tempfile ...readfid.nii</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span><span class="o">.</span><span class="n">pdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">export2nii</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.reco">
<span class="sig-name descname"><span class="pre">reco</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.reco" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.store_adata">
<span class="sig-name descname"><span class="pre">store_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.store_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Store some secondary data for this PData scan.</p>
<p>See call signature of AData_classes.AData.fromdata</p>
<p>This triggers an update in the adata dictionary of the
parent object (Scan).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.uid">
<span class="sig-name descname"><span class="pre">uid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.uid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.PDATA_file.visu_pars">
<span class="sig-name descname"><span class="pre">visu_pars</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.PDATA_file.visu_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Patient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">Patient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patient_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Patient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection" title="sarpy.BRUKERIO.BRUKER_classes.StudyCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.StudyCollection</span></code></a></p>
<p>A Patient is a special Collection of studies in that the subject_id
has to agree from one study to the next</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">Scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object to represent a BRUKER scan consisting, typically, of FID_file
and PDATA_file(s).</p>
<p>The __init__() method expects the filename to be a directory. It will
try around a bit (filenames inside the directory) before throwing an
exception. It will also give up if it can’t find any of the
acqp, method, fid or one 2dseq file.</p>
<p>Simple Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span> <span class="o">=</span> <span class="n">Scan</span><span class="p">(</span><span class="s1">&#39;readfidTest.ix1/3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span><span class="p">(</span><span class="n">exp3</span><span class="p">)</span>    
<span class="go">[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dict__&#39;, &#39;__doc__&#39;, &#39;__format__&#39;,</span>
<span class="go"> &#39;__getattribute__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__module__&#39;, &#39;__new__&#39;,</span>
<span class="go"> &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__setattr__&#39;,</span>
<span class="go"> &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;__weakref__&#39;, &#39;acqp&#39;,</span>
<span class="go"> &#39;adata&#39;, &#39;dirname&#39;, &#39;fid&#39;, &#39;method&#39;, &#39;pdata&#39;, &#39;pdata_uids&#39;,</span>
<span class="go"> &#39;shortdirname&#39;, &#39;store_adata&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">ACQ_protocol_name</span>
<span class="go">&#39;FLASH_bas(modified)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">ORIGIN</span>
<span class="go">&#39;Bruker BioSpin MRI GmbH&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">DATE</span>
<span class="go">&#39;Thu Feb 21 19:01:26 2013 PST (UT-8h)&#39;</span>
</pre></div>
</div>
<p>Also, Scan has a pretty way of falling over when no fid file is detected:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Scan(&#39;readfidTest.ix1/9&#39;) 
Traceback (most recent call last):
    ...
IOError:...
</pre></div>
</div>
<p>Scan should be able to read spectro scans:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Scan</span><span class="p">(</span><span class="s1">&#39;VFAT1phant1.mo1/8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fid</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2048, 30)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Scan</span><span class="p">(</span><span class="s1">&#39;VFAT1phant1.mo1/9&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fid</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2048, 30)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.acqp">
<span class="sig-name descname"><span class="pre">acqp</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.acqp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.adata">
<span class="sig-name descname"><span class="pre">adata</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.adata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.fftfid">
<span class="sig-name descname"><span class="pre">fftfid</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.fftfid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.fid">
<span class="sig-name descname"><span class="pre">fid</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.fid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.masterlist_attr">
<span class="sig-name descname"><span class="pre">masterlist_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.masterlist_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>look up attr in the hierarchy of dictionaries of the masterlist
config file. As a rule, the attribute stored at the more specific
(deeper) level takes precedence.</p>
<p>level = ‘Experiment’, ‘Patient’, ‘Study’, ‘Scan’, None</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.method">
<span class="sig-name descname"><span class="pre">method</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.pdata">
<span class="sig-name descname"><span class="pre">pdata</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.pdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.pdata_uids">
<span class="sig-name descname"><span class="pre">pdata_uids</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.pdata_uids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.rm_adata">
<span class="sig-name descname"><span class="pre">rm_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.rm_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>delete adata set</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Scan.store_adata">
<span class="sig-name descname"><span class="pre">store_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdata_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Scan.store_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Store an AData set for one of the processed children of this scan.
Typically the first one (pdata_idx=0)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>boolean</em>) – overwrite pre-existing AData sets, (default  False)</p></li>
<li><p><strong>compressed</strong> (<em>boolean</em>) – compress adata files on write to disk, (default  True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">Study</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A study in BRUKER parlance is a collection of scans performed on
on subject (typically within a day, without interruption). A study
directory is expected to contain a JCAMP file ‘subject’ and have one
or more subdirectories which are scans.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.find_adata_scans">
<span class="sig-name descname"><span class="pre">find_adata_scans</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.find_adata_scans" title="Permalink to this definition">¶</a></dt>
<dd><p>All keys <em>AND SCANS</em> of adata sets attached to scans in this study</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.find_scan_by_protocol">
<span class="sig-name descname"><span class="pre">find_scan_by_protocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.find_scan_by_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.masterlist_filename">
<span class="sig-name descname"><span class="pre">masterlist_filename</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.masterlist_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.rm_adata">
<span class="sig-name descname"><span class="pre">rm_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.rm_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove adata with given <em>key</em> by iterating over the lot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.scan_finder">
<span class="sig-name descname"><span class="pre">scan_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.scan_finder" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the non-generator version and is provided for convenience.
See difference between range and xrange</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.scans">
<span class="sig-name descname"><span class="pre">scans</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.scans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.Study.xscan_finder">
<span class="sig-name descname"><span class="pre">xscan_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.Study.xscan_finder" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of all scans in urrent study that fit the criteria as
given by kwargs.</p>
<p>All possible keys are listed and associated to a comparison function
in the submodule JCAMP_comparison.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">StudyCollection</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A StudyCollection can have multiple studies (in BRUKER speak) which can in
turn have multiple scans. It can be initialised by pointing it
to a scan or study. This should be a superclass too (?), e.g. the Patient and
the Experiment class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.add_study">
<span class="sig-name descname"><span class="pre">add_study</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.add_study" title="Permalink to this definition">¶</a></dt>
<dd><p>search through database to find anything that matches root</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<a class="reference internal" href="#sarpy.BRUKERIO.BRUKER_classes.Study" title="sarpy.BRUKERIO.BRUKER_classes.Study"><em>Study</em></a>) – add the indicated study</p></li>
<li><p><strong>by_name</strong> (<em>string</em>) – search through database with the indicated string</p></li>
<li><p><strong>by_uid</strong> (<em>string</em>) – search through database by UID. This is potentially very slow</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.find_adata_scans">
<span class="sig-name descname"><span class="pre">find_adata_scans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.find_adata_scans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.find_scan_by_protocol">
<span class="sig-name descname"><span class="pre">find_scan_by_protocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.find_scan_by_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.get_SUBJECT_id">
<span class="sig-name descname"><span class="pre">get_SUBJECT_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.get_SUBJECT_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.rm_adata">
<span class="sig-name descname"><span class="pre">rm_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.rm_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove adata with given <em>key</em> by iterating over all studies</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.scan_finder">
<span class="sig-name descname"><span class="pre">scan_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.scan_finder" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the non-generator version and is provided for convenience.
See difference between range and xrange</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.StudyCollection.xscan_finder">
<span class="sig-name descname"><span class="pre">xscan_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.StudyCollection.xscan_finder" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator to yield all scans that match te criteria given in kwargs.</p>
<p>The meat of the code is in Study.xscan_finder()</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.find_all_patients_in_masterlists">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">find_all_patients_in_masterlists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.find_all_patients_in_masterlists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.last_path_components">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">last_path_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">absdirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.last_path_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the last two parts of a path. Should be platform independent and
fairly immune to trailing ‘/’ and other irregularities. Used to determine
the shortdirname in Scan and Study.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">last_path_components</span><span class="p">(</span><span class="s1">&#39;~/bdata/stefan/nmr/readfidTest.ix1/9&#39;</span><span class="p">)</span>
<span class="go">&#39;9&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">last_path_components</span><span class="p">(</span><span class="s1">&#39;~/bdata/stefan/nmr/readfidTest.ix1/9/&#39;</span><span class="p">)</span>
<span class="go">&#39;9&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">last_path_components</span><span class="p">(</span><span class="s1">&#39;~/bdata/stefan/nmr/readfidTest.ix1/9/&#39;</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;readfidTest.ix1/9&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.BRUKER_classes.strip_all_but_classname">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.BRUKER_classes.</span></span><span class="sig-name descname"><span class="pre">strip_all_but_classname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/BRUKER_classes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.BRUKER_classes.strip_all_but_classname" title="Permalink to this definition">¶</a></dt>
<dd><p>Nicely format the class_str that is used in some of the __str__ calls</p>
</dd></dl>

</section>
<section id="module-sarpy.BRUKERIO.JCAMP_comparison">
<span id="sarpy-brukerio-jcamp-comparison-module"></span><h2>sarpy.BRUKERIO.JCAMP_comparison module<a class="headerlink" href="#module-sarpy.BRUKERIO.JCAMP_comparison" title="Permalink to this headline">¶</a></h2>
<p>Copyright: SARlab members, UBC, Vancouver, 2013</p>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.JCAMP_comparison.arr_comp">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.JCAMP_comparison.</span></span><span class="sig-name descname"><span class="pre">arr_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/JCAMP_comparison.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.JCAMP_comparison.arr_comp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.JCAMP_comparison.int_comp">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.JCAMP_comparison.</span></span><span class="sig-name descname"><span class="pre">int_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/JCAMP_comparison.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.JCAMP_comparison.int_comp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.JCAMP_comparison.list_param_by_type">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.JCAMP_comparison.</span></span><span class="sig-name descname"><span class="pre">list_param_by_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type_=&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">exp_names=['NecS3'],</span> <span class="pre">fname=None</span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/JCAMP_comparison.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.JCAMP_comparison.list_param_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>create part of the soure code in this module:
sort JCAMP parameter names into types (str, array and other) and create a
dictionary that associate frozensets of these parameters with the
corresponding compare function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.JCAMP_comparison.regex_comp">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.JCAMP_comparison.</span></span><span class="sig-name descname"><span class="pre">regex_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/JCAMP_comparison.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.JCAMP_comparison.regex_comp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="sarpy-brukerio-jcamp-dict-module">
<h2>sarpy.BRUKERIO.JCAMP_dict module<a class="headerlink" href="#sarpy-brukerio-jcamp-dict-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="sarpy-brukerio-bulk-analyze-module">
<h2>sarpy.BRUKERIO.bulk_analyze module<a class="headerlink" href="#sarpy-brukerio-bulk-analyze-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.check_fid_acqp_method">
<span id="sarpy-brukerio-check-fid-acqp-method-module"></span><h2>sarpy.BRUKERIO.check_fid_acqp_method module<a class="headerlink" href="#module-sarpy.BRUKERIO.check_fid_acqp_method" title="Permalink to this headline">¶</a></h2>
<p>Quick check for the presence of all sorts of BRUKER files in the 
entire dataroot. A fully stocked scan should have
acqp, method, fid, 2dseq. This results in a score of
1 +   2 +     4 +  8 = 15. If one is missing, the score is less.</p>
</section>
<section id="sarpy-brukerio-check-nii-vs-visu-pars-module">
<h2>sarpy.BRUKERIO.check_nii_vs_visu_pars module<a class="headerlink" href="#sarpy-brukerio-check-nii-vs-visu-pars-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="sarpy-brukerio-compare-jcamp-readers-module">
<h2>sarpy.BRUKERIO.compare_JCAMP_readers module<a class="headerlink" href="#sarpy-brukerio-compare-jcamp-readers-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.congrid">
<span id="sarpy-brukerio-congrid-module"></span><h2>sarpy.BRUKERIO.congrid module<a class="headerlink" href="#module-sarpy.BRUKERIO.congrid" title="Permalink to this headline">¶</a></h2>
<p>Rebinning example from he SciPy.org Cookbook</p>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.congrid.congrid">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.congrid.</span></span><span class="sig-name descname"><span class="pre">congrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newdims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minusone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/congrid.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.congrid.congrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Arbitrary resampling of source array to new dimension sizes.
Currently only supports maintaining the same number of dimensions.
To use 1-D arrays, first promote them to shape (x,1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>numpy.ndarray</em>) – input array</p></li>
<li><p><strong>newdims</strong> (<em>list</em>) – new dimensions</p></li>
<li><p><strong>method</strong> (<em>string</em>) – <cite>neighbour</cite> - closest value from original data
<cite>nearest</cite> and <cite>linear</cite> - uses n x 1-D interpolations using 
scipy.interpolate.interp1d
(see Numerical Recipes for validity of use of n 1-D interpolations)
<cite>spline</cite> - uses ndimage.map_coordinates</p></li>
<li><p><strong>centre</strong> (<em>boolean</em>) – True - interpolation points are at the centres of the bins
False - points are at the front edge of the bin</p></li>
<li><p><strong>minusone</strong> (<em>boolean</em>) – For example- inarray.shape = (i,j) &amp; new dimensions = (x,y)
False - inarray is resampled by factors of (i/x) * (j/y)
True - inarray is resampled by(i-1)/(x-1) * (j-1)/(y-1)
This prevents extrapolation one element beyond bounds of input array.</p></li>
</ul>
</dd>
</dl>
<p>Uses the same parameters and creates the same co-ordinate lookup points
as IDL’’s congrid routine, which apparently originally came from a VAX/VMS
routine of the same name.</p>
</dd></dl>

</section>
<section id="module-sarpy.BRUKERIO.descriptortest">
<span id="sarpy-brukerio-descriptortest-module"></span><h2>sarpy.BRUKERIO.descriptortest module<a class="headerlink" href="#module-sarpy.BRUKERIO.descriptortest" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Feb 28 13:19:35 2013</p>
<p>&#64;author: stefan</p>
<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.C">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">C</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.C" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.C.a">
<span class="sig-name descname"><span class="pre">a</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'forty</span> <span class="pre">two'</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.C.a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.Cnew">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">Cnew</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.Cnew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.Cnew.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[42,</span> <span class="pre">42,</span> <span class="pre">42]</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.Cnew.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.D">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">D</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.Dnew">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">Dnew</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.Dnew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.dict_plus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">dict_plus</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.dict_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.lazy_property_desc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">lazy_property_desc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.lazy_property_desc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.tryout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.descriptortest.</span></span><span class="sig-name descname"><span class="pre">tryout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">someval</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.tryout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.tryout.adata">
<span class="sig-name descname"><span class="pre">adata</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.tryout.adata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.tryout.getname">
<span class="sig-name descname"><span class="pre">getname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.tryout.getname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.tryout.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.tryout.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.descriptortest.tryout.setname">
<span class="sig-name descname"><span class="pre">setname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/descriptortest.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.descriptortest.tryout.setname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="sarpy-brukerio-dict-walk-minimal-example-module">
<h2>sarpy.BRUKERIO.dict_walk_minimal_example module<a class="headerlink" href="#sarpy-brukerio-dict-walk-minimal-example-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.lazy_property">
<span id="sarpy-brukerio-lazy-property-module"></span><h2>sarpy.BRUKERIO.lazy_property module<a class="headerlink" href="#module-sarpy.BRUKERIO.lazy_property" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Mar 21 16:06:35 2013</p>
<p>&#64;author: stefan</p>
<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lazy_property.lazy_property">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lazy_property.</span></span><span class="sig-name descname"><span class="pre">lazy_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lazy_property.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lazy_property.lazy_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Meant to be used for lazy evaluation of an object attribute.
property should represent non-mutable data, as it replaces itself.</p>
<p>An example illustrates the use. First define a class that contains
a lazy_property. That call it and observe how the calculation is 
only performed once.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@lazy_property</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">calcs</span> <span class="o">=</span> <span class="mi">42</span> <span class="c1"># do a lot of calculation here</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;phew, this took a lot of effort - glad I do this so rarely...&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">calcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">=</span><span class="n">Test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">results</span>
<span class="go">phew, this took a lot of effort - glad I do this so rarely...</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">results</span>  <span class="c1"># on a second call the calculation is not needed !</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="vm">__dict__</span>  <span class="c1"># see how results is no a proper attribute</span>
<span class="go">{&#39;results&#39;: 42}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-sarpy.BRUKERIO.lowlevel">
<span id="sarpy-brukerio-lowlevel-module"></span><h2>sarpy.BRUKERIO.lowlevel module<a class="headerlink" href="#module-sarpy.BRUKERIO.lowlevel" title="Permalink to this headline">¶</a></h2>
<p>Collection of BRUKER input routines</p>
<p>Handy functions to read BRUKER data and header files.</p>
<p>The logging is set up so that if the library user does nothing,
all will be silent. Details in :py:mod: SARlogger</p>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.convert_int_float_string">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">convert_int_float_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.convert_int_float_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.dict2string">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">dict2string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.dict2string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert dictionary to nicely looking multi-line string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – input dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of strings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p>This might be useful when turning the JCAMP-style dictionaries
into something that goes into a text display. Example use would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;TE&#39;</span><span class="p">:</span><span class="mf">2.3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict2string</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="go">                  TE : 2.3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.fftbruker">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">fftbruker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DCoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.fftbruker" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper to fft bruker FIDs</p>
<p>returns the fft of a multi-dimensional BRUKER FID. It uses the
parameter ‘encoding’ to decide over which dimensions to Fourier transform.
Typically, a 2D only needs FFT over 1st and 2nd dimension
(encoding = [1, 1, 0, 0]) whereas 3D files get a FT over three dimensions
(encoding = [1, 1, 1, 0]). The 4th dimension (repetitions) doesn’t
usually get FTed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.fftfid">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">fftfid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fptr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readfidresult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AxisFlip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PEshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.fftfid" title="Permalink to this definition">¶</a></dt>
<dd><p>Take filename, retrieve fid and FT as best as you can</p>
<p>This relies on the FT-able axis to be in he 1st three positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fptr</strong> – input fid file (handed through to readfid)</p></li>
<li><p><strong>AxisFlip</strong> – Flip axis to achieve display in agreement with radiological
convention (default: True)</p></li>
<li><p><strong>PEshift</strong> – find out shifts of slice packs and apply in the 
PE directions (default: True)</p></li>
<li><p><strong>squeezed</strong> – squeeze FT array before returning (default: true)</p></li>
<li><p><strong>kwargs</strong> – handed through to readfid (only squeezed is handled internally)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>complex-valued array from FT of fid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p>Remarks: It does not account for the possibility of several slice packs
with different orientations etc. As a result, tripilot scans are not 
treated properly.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.inner_value">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">inner_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somelist</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.inner_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return somelist[0] a one-element list or the whole list otherwise</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>somelist</strong> (<em>list</em>) – list that might contain only one element</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element of somelist or somelist</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="mi">42</span><span class="p">])</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">])</span>
<span class="go">[42, 43]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([[</span><span class="mi">42</span><span class="p">]])</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([[</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">]])</span>
<span class="go">[42, 43]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">)</span>
<span class="go">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="go">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="s1">&#39;s&#39;</span><span class="p">])</span>
<span class="go">&#39;s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span><span class="s1">&#39;eggs&#39;</span><span class="p">,</span><span class="s1">&#39;bacon&#39;</span><span class="p">])</span>
<span class="go">[&#39;spam&#39;, &#39;eggs&#39;, &#39;bacon&#39;]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method does not work for dictionaries (KeyError)</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.pairwise">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">pairwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.pairwise" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a solution to the problem of looking ahead in a for loop
mentioned in on <a class="reference external" href="http://stackoverflow.com/questions/4197805/python-for-loop-look-ahead">stackoverflow:</a></p>
<p>“s -&gt; (s0,s1), (s1,s2), (s2, s3), …”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.read2dseq">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">read2dseq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scandirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visu_pars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.read2dseq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER’s 2dseq file as a properly dimensioned array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scandirname</strong> (<em>string</em>) – filename of the scan directory</p></li>
<li><p><strong>visu_pars</strong> (<em>dict reco</em><em>, </em><em>d3proc</em><em>,</em>) – parameter files (as dict) that can be provided by caller
default: None which means they will be loaded by this function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with data, and header information. The data is
an array of BRUKER-reconstructed image data in the respecive proc
directory.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict with ‘data’:numpy array ‘header’:dict{‘recpo’:…, ‘d3proc’:…}</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>IOERROR if directory non-existent</p>
</dd>
</dl>
<p>This relies on numpy’s array functionality</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.readJCAMP">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">readJCAMP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.readJCAMP" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse text file in JCAMP format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – filename of fid file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of labelled data records (LDR) with LDR-names as keys
and their content as values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>IOERROR if opening file fails or passes on any other error</p>
</dd>
</dl>
<p>The <em>JCAMP format</em> is a self-documenting, ASCII text file format
that is maintained by IUPAC (<a class="reference external" href="http://iupac.org/publications/pac/78/3/0613/">see a report
here</a>).
It consists of labelled data records (LDR) that start with a ##
and end when the next record begins.
They can span several lines. The data label is
enclosed between ‘##’ and ‘=’. If it starts with a $, we are
dealing with a private LDR.</p>
<p>The issue of reading these is complicated due to the various
types of data (integers, floats, strings, arrays and nested
structures) that can be present.</p>
<p>~/bdata/readfidTest.ix1/subject:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##$SUBJECT_name_string=( 64 )</span>
<span class="o">&lt;</span><span class="n">Moosvi</span><span class="p">,</span> <span class="n">readfidTest</span><span class="o">&gt;</span>
<span class="c1">##$SUBJECT_name=(&lt;Moosvi&gt;, &lt;readfidTest&gt;)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datapath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">dataroot</span><span class="p">),</span><span class="s1">&#39;stefan&#39;</span><span class="p">,</span><span class="s1">&#39;nmr&#39;</span><span class="p">,</span><span class="s1">&#39;readfidTest.ix1&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">=</span><span class="n">readJCAMP</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;subject&#39;</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;SUBJECT_name&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;&lt;Moosvi&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;readfidTest&gt;&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;SUBJECT_name_string&#39;</span><span class="p">]</span>
<span class="s1">&#39;Moosvi, readfidTest&#39;</span>
</pre></div>
</div>
<p>~/bdata/readfidTest.ix1/1/acqp:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##$ACQ_user_filter=No</span>
<span class="c1">##$ACQ_dim_desc=( 2 )</span>
<span class="n">Spatial</span> <span class="n">Spatial</span>
<span class="c1">##$NR=1</span>
<span class="c1">##$D=( 64 )</span>
<span class="mf">0.00502257333333333</span> <span class="mi">0</span> <span class="mf">0.00066296</span> <span class="mf">0.000114</span> <span class="mf">0.000114</span> <span class="mi">0</span> <span class="mf">0.001886</span> <span class="mi">0</span> <span class="mf">2.5e-05</span> <span class="mi">0</span>
<span class="mf">0.000886</span> <span class="mf">0.000886</span> <span class="mf">0.000368</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1e-05</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="c1">##$TPQQ=( 16 )</span>
<span class="p">(</span><span class="o">&lt;</span><span class="n">hermite</span><span class="o">.</span><span class="n">exc</span><span class="o">&gt;</span><span class="p">,</span> <span class="mf">17.9862515696541</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span>
<span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
 <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">##$ACQ_grad_matrix=( 15, 3, 3 )</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span>
<span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">0</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">=</span><span class="n">readJCAMP</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;acqp&#39;</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;ACQ_user_filter&#39;</span><span class="p">]</span>
<span class="s1">&#39;No&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;ACQ_dim_desc&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;Spatial&#39;</span><span class="p">,</span> <span class="s1">&#39;Spatial&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;NR&#39;</span><span class="p">]</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.00502257333333333</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.00066296</span><span class="p">,</span> <span class="mf">0.000114</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;TPQQ&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="p">[[</span><span class="s1">&#39;&lt;hermite.exc&gt;&#39;</span><span class="p">,</span> <span class="mf">17.9862515696541</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;TPQQ&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;&lt;hermite.exc&gt;&#39;</span><span class="p">,</span> <span class="mf">17.9862515696541</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;TPQQ&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="mf">17.9862515696541</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;ACQ_grad_matrix&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.readRFshape">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">readRFshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.readRFshape" title="Permalink to this definition">¶</a></dt>
<dd><p>reads BRUKERS RF shape files spnam0 etc that are stored with experiments</p>
<p>returns a dictionary with ready-to-use attributes for amplitude,
phase, bandwidth etc.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.readfid">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">readfid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fptr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acqp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">untouched</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeezed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resetNR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.readfid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER’s fid file as a properly dimensioned &amp; rearranged array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fptr</strong> (<em>FileType</em><em>,</em><em>str</em>) – filename of fid file or filehandle to open fid file</p></li>
<li><p><strong>acqp</strong> (<em>dict</em>) – dictionary of acqp parameters
(default None: parameter file will be loaded)</p></li>
<li><p><strong>method</strong> (<em>dict</em>) – dictionary of method parameters
(default None: parameter file will be loaded)</p></li>
<li><p><strong>untouched</strong> (<em>boolean</em>) – do not rearrange/reshape data (default: False)</p></li>
<li><p><strong>squeezed</strong> (<em>boolean</em>) – squeeze dimension of length 1 (default: True)</p></li>
<li><p><strong>resetNR</strong> (<em>boolean</em>) – for incomplete scans, reset NR if needed (default: False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Flat (untouched = True) or Rearranged and assembled array of the acquire k-space</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>IOERROR if filesize and matrix description appear to be inconsistent</p>
</dd>
</dl>
<p><strong>BRUKER manual D.14 File Formats (Raw data files)</strong></p>
<blockquote>
<div><p>The reconstruction assumes that the raw data to be reconstructed will
be located in a file named either fid or ser in the EXPNO directory.
Any averaging of the raw data must be done before the data is written
to the file, no post-acquisition averag- ing is done by the
reconstruction.</p>
<dl>
<dt>K-format</dt><dd><p>The raw data file must be written in K-format to be processed by the TOPSPIN
processing software.  This means that every profile must be written
to the file at a posi- tion which is a multiple of 1K-bytes (1024 bytes).
Datasets which are imported may need to be reformatted. Both little-endian
and big-endian word formats are sup- ported, the BYTORDA parameter in the
acqp parameter file is assumed to correctly specify the format of the
raw data file. Finally, the raw data file is assumed to contain data only,
without any headers.</p>
</dd>
<dt>Packed format</dt><dd><p>Data to be processed with ParaVision can also be stored in packed format.
For this purpose the parameter GO_block_size must be set to continuous.</p>
</dd>
<dt>Integer formats</dt><dd><p>By default, raw data is stored in 32-bit signed integer format, real and
imaginary points of the complex signal interleaved. For applications where
the data range may not exceed 16-bit, e.g. when accumulation and oversampling
are disabled in analog mode, data can be stored as 16-bit short integers,
setting the parameter GO_raw_data_format to GO_16BIT_SGN_INT. A warning
message is displayed if an overflow occurs during data acquisition.</p>
</dd>
<dt>Floating point format</dt><dd><p>Alternatively, data can be stored in floating point format:
GO_raw_data_format = GO_32BIT_FLOAT. Note, that data not acquired in the
default 32-bit signed integer format cannot be processed with TOPSPIN but
only by the ParaVision reconstruction.</p>
</dd>
<dt>Order of data storage</dt><dd><p>The raw data file usually contains the data in the order of acquisition.
There is only one exception: in case a pipeline filter (AU) is used to
process the raw data, the order of data storage is defined by the output
order of the filter.</p>
<p>For raw datasets acquired by ParaVision methods, ordering and size of the
data are described by the ACQP parameters contained in the file acqp:</p>
<blockquote>
<div><ul>
<li><p>ACQ_dim - Spatial/spectroscopic dimension of the experiment.</p></li>
<li><p>ACQ_size[ ] - Array of length ACQ_dim with length of the given dimensions.
ACQ_size[0] counts real valued data and for this it must be an even number.
Real and imaginary data is stored shuffled. For experiments acquired with
multiple receivers (ACQ_experiment_mode == ParallelExperiment) the scans
from different receivers are appended. The number of active receivers is
derived from the number of selected receivers in the parameter array
GO_ReceiverSelect.</p></li>
<li><p>NI - Number of objects.
e.g. slices, but not purely!, could be slices*echoes</p></li>
<li><p>ACQ_obj_order - Permutation of the order of the acquired objects.</p></li>
<li><p>ACQ_phase_factor - Number of subsequent scans in the raw dataset belonging
to the same Object. Typically, this parameter is set to 1 which will keep
the cod- ing constant within a Multiplex step. If ACQ_phase_factor &gt; 1,
this parameter will give the number of consecutively acquired phase encoding
steps that belong to a single Object. Concerning phase increment:
see ACQ_rare_factor.</p></li>
<li><p>ACQ_phase_enc_mode[ ] - Ordering scheme for scans within the k-space.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>parameter seems to be renamed to ACQ_phase_encoding_mode</p>
</div>
</div></blockquote>
</li>
<li><p>ACQ_phase_enc_start[ ] - For positioning of first scan in phase encoding
scheme.</p></li>
<li><p>ACQ_rare_factor - For positioning of the ACQ_phase_factor scans within the
k-space. In the case of ACQ_phase_factor &gt; 1 the phase encoding increment
is determined by ACQ_size[1] / ACQ_rare_factor.
ACQ_rare_factor = ACQ_phase_factor is used for RARE experiments.</p></li>
<li><p>NR - Number of repeated experiments within the dataset.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>These salient parameters are printed using the following code:
[‘%s: %s’ % (k,acqp[k]) for k in [‘ACQ_dim’,’ACQ_size’,’GO_block_size’,’NI’,’ACQ_obj_order’,’ACQ_phase_factor’,’ACQ_phase_encoding_mode’,’ACQ_phase_enc_start’,’ACQ_rare_factor’,’NR’,’NSLICES’,’ACQ_spatial_phase_1’,’ACQ_spatial_size_1’]]</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datapath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">dataroot</span><span class="p">),</span><span class="s1">&#39;stefan&#39;</span><span class="p">,</span><span class="s1">&#39;nmr&#39;</span><span class="p">,</span><span class="s1">&#39;readfidTest.ix1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># TriPilot multi</span>
<span class="go">(128, 128, 15)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># FLASH 2D</span>
<span class="go">(133, 105, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># FLASH 3D</span>
<span class="go">(133, 105, 25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># MSME 2D</span>
<span class="go">(133, 105, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># MSME 3D</span>
<span class="go">(133, 105, 25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c1"># MSME 2D-TURBO</span>
<span class="go">(256, 256, 5, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># FLASH 2D (NR=25, NI=5, NSLICES=5)</span>
<span class="go">(133, 105, 5, 25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># FLASH 2D, partial acq. NR auto reset to 5</span>
<span class="go">(133, 105, 5, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;9&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span> 
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">FileNotFoundError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># fid file 9 was missing due to incomplete scans</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># FLASH 2D (MATRIX 32 X 32)</span>
<span class="go">(32, 32, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;11&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># FLASH 3D (MATRIX 32 X 32)</span>
<span class="go">(32, 32, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;12&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1"># 1-segment EPI - FIXME, this should be easy but somehow ACQ_size=(8192,1) </span>
<span class="gp">... </span><span class="c1"># and ACQ_scan_size=ACQ_phase_factor_scans (instead of One_Scan)</span>
<span class="gp">... </span><span class="c1"># this should be an easy 64x64x5slice single shot EPI...</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;13&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1"># 16 segment EPI - FIXME</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;14&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># DTI Standard</span>
<span class="go">(133, 105, 5, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;15&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1"># DTI SPIRAL - FIXME</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;16&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># UTE 2D</span>
<span class="go">(64, 402, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;17&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span> <span class="c1"># UTE 3D</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1"># FIXME: once we know how to read this data it should be added to</span>
<span class="gp">... </span><span class="c1">#        the testdata submodule</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">FileNotFoundError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;18&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span> <span class="c1"># ZTE 3D</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1">#FIXME: once we know how to read this data it should be added to</span>
<span class="gp">... </span><span class="c1">#       the testdata submodule</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">FileNotFoundError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;99&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">))</span>
<span class="gp">... </span>
<span class="gp">... </span><span class="c1"># interrupted FLASH DCE, mismatch in filesize causes IOError</span>
<span class="gp">... </span><span class="c1"># this is desired (and expected) behaviour</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span><span class="s1">&#39;99&#39;</span><span class="p">,</span><span class="s1">&#39;fid&#39;</span><span class="p">),</span> <span class="n">resetNR</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># interrupted FLASH DCE (NR=7 from formerly 25)</span>
<span class="go">(133, 105, 5, 7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.lowlevel.readfidspectro">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.lowlevel.</span></span><span class="sig-name descname"><span class="pre">readfidspectro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fptr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acqp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">untouched</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.lowlevel.readfidspectro" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER’s fid file as a properly dimensioned &amp; rearranged array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fptr</strong> (<em>string</em><em> or </em><em>FileType</em>) – filename of fid file or filehandle to open fid file</p></li>
<li><p><strong>untouched</strong> (<em>boolean</em>) – Do not rearrange lines into slices and echos and such
in the fid in its form as found on disk</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of kspace data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>AssertError for various inconsistencies in data size or simply
misunderstandings of how the data is to be interpreted.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="sarpy-brukerio-masterlist-module">
<h2>sarpy.BRUKERIO.masterlist module<a class="headerlink" href="#sarpy-brukerio-masterlist-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.obj2dict">
<span id="sarpy-brukerio-obj2dict-module"></span><h2>sarpy.BRUKERIO.obj2dict module<a class="headerlink" href="#module-sarpy.BRUKERIO.obj2dict" title="Permalink to this headline">¶</a></h2>
<p>Created on Sat Mar 16 22:28:37 2013</p>
<p>&#64;author: stefan</p>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.obj2dict.obj2dict">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.obj2dict.</span></span><span class="sig-name descname"><span class="pre">obj2dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/obj2dict.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.obj2dict.obj2dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.obj2dict.show_tree">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.obj2dict.</span></span><span class="sig-name descname"><span class="pre">show_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/obj2dict.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.obj2dict.show_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="sarpy-brukerio-oldtest-bruker-classes-module">
<h2>sarpy.BRUKERIO.oldtest_BRUKER_classes module<a class="headerlink" href="#sarpy-brukerio-oldtest-bruker-classes-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="sarpy-brukerio-oldtest-sarlogger-module">
<h2>sarpy.BRUKERIO.oldtest_SARlogger module<a class="headerlink" href="#sarpy-brukerio-oldtest-sarlogger-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.oldtest_lowlevel">
<span id="sarpy-brukerio-oldtest-lowlevel-module"></span><h2>sarpy.BRUKERIO.oldtest_lowlevel module<a class="headerlink" href="#module-sarpy.BRUKERIO.oldtest_lowlevel" title="Permalink to this headline">¶</a></h2>
<p>Test Routines for lowlevel</p>
<dl class="py class">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.Test">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.oldtest_lowlevel.</span></span><span class="sig-name descname"><span class="pre">Test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'runTest'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.Test" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<p>Unit tests for readfid.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.Test.test_doctests">
<span class="sig-name descname"><span class="pre">test_doctests</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.Test.test_doctests" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the doctests</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.Test.test_read2dseq">
<span class="sig-name descname"><span class="pre">test_read2dseq</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.Test.test_read2dseq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.Test.test_readJCAMP">
<span class="sig-name descname"><span class="pre">test_readJCAMP</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.Test.test_readJCAMP" title="Permalink to this definition">¶</a></dt>
<dd><p>Test readJCAMP for exceptions by reading variety of acqp 
and method files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.Test.test_readfid">
<span class="sig-name descname"><span class="pre">test_readfid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.Test.test_readfid" title="Permalink to this definition">¶</a></dt>
<dd><p>lowlevel.io.readfid()</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.stresstest_read2dseq">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.oldtest_lowlevel.</span></span><span class="sig-name descname"><span class="pre">stresstest_read2dseq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path_filter</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.stresstest_read2dseq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.stresstest_readJCAMP">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.oldtest_lowlevel.</span></span><span class="sig-name descname"><span class="pre">stresstest_readJCAMP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path_filter</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.stresstest_readJCAMP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.oldtest_lowlevel.stresstest_readfid">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.oldtest_lowlevel.</span></span><span class="sig-name descname"><span class="pre">stresstest_readfid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[9,</span> <span class="pre">13,</span> <span class="pre">15]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/oldtest_lowlevel.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.oldtest_lowlevel.stresstest_readfid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="sarpy-brukerio-oldtest-write2nii-module">
<h2>sarpy.BRUKERIO.oldtest_write2nii module<a class="headerlink" href="#sarpy-brukerio-oldtest-write2nii-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="sarpy-brukerio-parsejcamp-module">
<h2>sarpy.BRUKERIO.parseJCAMP module<a class="headerlink" href="#sarpy-brukerio-parsejcamp-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="sarpy-brukerio-test-lowlevel-module">
<h2>sarpy.BRUKERIO.test_lowlevel module<a class="headerlink" href="#sarpy-brukerio-test-lowlevel-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.visu_pars_2_Nifti1Header">
<span id="sarpy-brukerio-visu-pars-2-nifti1header-module"></span><h2>sarpy.BRUKERIO.visu_pars_2_Nifti1Header module<a class="headerlink" href="#module-sarpy.BRUKERIO.visu_pars_2_Nifti1Header" title="Permalink to this headline">¶</a></h2>
<p>Created on Mon Apr  1 00:36:03 2013</p>
<p>&#64;author: stefan</p>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.visu_pars_2_Nifti1Header.visu_pars_2_Nifti1Header">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.visu_pars_2_Nifti1Header.</span></span><span class="sig-name descname"><span class="pre">visu_pars_2_Nifti1Header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visu_pars</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/visu_pars_2_Nifti1Header.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.visu_pars_2_Nifti1Header.visu_pars_2_Nifti1Header" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Take visu_pars header and extract all useful information for  Nifti1Header.
This attempts to get all the geometry information out without requiring 
any special flip etc in the data beyond the initial column-major-to-row- 
major flip when reading in the 2dseq file.</p>
<dl class="field-list simple">
<dt class="field-odd">param dict visu_pars</dt>
<dd class="field-odd"><p>visu_pars structure as previded by readJCAMP</p>
</dd>
</dl>
<p>Note: this results in  a headr that’s different from the one obtained by 
exporting BRUKER data to dicom. Not clear why that is…</p>
<p><a href="#id1"><span class="problematic" id="id2">`Original Header information &lt;http://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/`_</span></a>
But <cite>this site is by far the best resource for info on the Nifti header:
&lt;http://brainder.org/2012/09/23/the-nifti-file-format/&gt;</cite></p>
<p>There are 3 different methods by which continuous coordinates can be 
attached to voxels. We are using method 2:
METHOD 2 (used when qform_code &gt; 0, which should be the “normal” case):
<a class="reference external" href="http://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/nifti1fields_pages/qsform.html#ref3">Ref:</a>
———————————————————————
The (x,y,z) coordinates are given by the pixdim[] scales, a rotation
matrix, and a shift.  This method is intended to represent
“scanner-anatomical” coordinates, which are often embedded in the
image header (e.g., DICOM fields (0020,0032), (0020,0037), (0028,0030),
and (0018,0050)), and represent the nominal orientation and location of
the data.  This method can also be used to represent “aligned”
coordinates, which would typically result from some post-acquisition
alignment of the volume to a standard orientation (e.g., the same
subject on another day, or a rigid rotation to true anatomical
orientation from the tilted position of the subject in the scanner).
The formula for (x,y,z) in terms of header parameters and (i,j,k) is:</p>
<p>[ x ]   [ R11 R12 R13 ] [        pixdim[1] * i ]   [ qoffset_x ]
[ y ] = [ R21 R22 R23 ] [        pixdim[2]  j ] + [ qoffset_y ]
[ z ]   [ R31 R32 R33 ] [ qfac  pixdim[3] * k ]   [ qoffset_z ]</p>
<p>In methods 2 and 3, the (x,y,z) axes refer to a subject-based coordinate system,</p>
</div></blockquote>
<p>with
+x = Right  +y = Anterior  +z = Superior.
This is a right-handed coordinate system.  However, the exact direction
these axes point with respect to the subject depends on qform_code</p>
<blockquote>
<div><dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span> <span class="o">=</span> <span class="n">Scan</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;readfidTest.ix1&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(),</span><span class="s1">&#39;readfid.nii&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;writing tempfile </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">fname</span><span class="p">)</span> 
<span class="go">writing tempfile ...readfid.nii</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span><span class="o">.</span><span class="n">pdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">write2nii</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.visu_pars_2_Nifti1Header.visu_pars_2_matrix_size">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.visu_pars_2_Nifti1Header.</span></span><span class="sig-name descname"><span class="pre">visu_pars_2_matrix_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visu_pars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reco</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/visu_pars_2_Nifti1Header.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.visu_pars_2_Nifti1Header.visu_pars_2_matrix_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the matrix size as calculated from visu_pars</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>visu_pars</strong> (<em>dict</em>) – parameter files (as dict) that can be provided by caller</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of size</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
<p>This relies on numpy’s array functionality. The whole routine is quite the
contortion since we are swapping the x y dimensional size (because of the 
row-major, column major confusion). As a result the outut here corresponds
to the shape produced by read2dseq and also results in images which when
shown with imshow will have x-axis along the horizontal…</p>
</dd></dl>

</section>
<section id="sarpy-brukerio-watch-sdata-module">
<h2>sarpy.BRUKERIO.watch_sdata module<a class="headerlink" href="#sarpy-brukerio-watch-sdata-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-sarpy.BRUKERIO.write_parameter_stack">
<span id="sarpy-brukerio-write-parameter-stack-module"></span><h2>sarpy.BRUKERIO.write_parameter_stack module<a class="headerlink" href="#module-sarpy.BRUKERIO.write_parameter_stack" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sarpy.BRUKERIO.write_parameter_stack.write_parameter_stack">
<span class="sig-prename descclassname"><span class="pre">sarpy.BRUKERIO.write_parameter_stack.</span></span><span class="sig-name descname"><span class="pre">write_parameter_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masterlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tmp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/BRUKERIO/write_parameter_stack.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sarpy.BRUKERIO.write_parameter_stack.write_parameter_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>For one patient, collects all images and adatas that are
listed in paramdict. The format of paramdict uses scan labels
and adata labels as a(n ordered) dictionary. Typically, parameter
stacks are written to /tmp separately for all slices unless the
keyword parameter slice is set to a slice number</p>
<p># identify adata (referred to by its label) for a given scan (referred to by its scanlabel)
params = [(‘roi-0h’, [‘’,’roi’]),</p>
<blockquote>
<div><blockquote>
<div><p>(‘dce-0ha_HPG’, [‘auc60’, ‘auc300’, ‘auc600’]),
(‘dce-0ha_Gd’, [‘auc60’]),
(‘LL-0h+2’, [‘deltaR1_HPG2’]),
(‘LL-0h+3’, [‘deltaR1_Gd’])</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>expname = ‘HerS11’
masterlist = json.load(open(os.path.expanduser(os.path.join(</p>
<blockquote>
<div><p>‘~’, ‘sdata’, expname, expname+’.json’)),’r’))</p>
</div></blockquote>
<p>write_parameter_stack(‘HerS11Bs05’, params, masterlist, slice=4)</p>
<p>or, to get all slices for all patients:
for patname in masterlist:</p>
<blockquote>
<div><p>for sl in arange(6):
write_parameter_stack(patname, params, masterlist, slice=sl)</p>
</div></blockquote>
</dd></dl>

</section>
<section id="module-sarpy.BRUKERIO">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sarpy.BRUKERIO" title="Permalink to this headline">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">sarpy.BRUKERIO package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.AData_classes">sarpy.BRUKERIO.AData_classes module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.BRUKER_classes">sarpy.BRUKERIO.BRUKER_classes module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.JCAMP_comparison">sarpy.BRUKERIO.JCAMP_comparison module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-jcamp-dict-module">sarpy.BRUKERIO.JCAMP_dict module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-bulk-analyze-module">sarpy.BRUKERIO.bulk_analyze module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.check_fid_acqp_method">sarpy.BRUKERIO.check_fid_acqp_method module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-check-nii-vs-visu-pars-module">sarpy.BRUKERIO.check_nii_vs_visu_pars module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-compare-jcamp-readers-module">sarpy.BRUKERIO.compare_JCAMP_readers module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.congrid">sarpy.BRUKERIO.congrid module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.descriptortest">sarpy.BRUKERIO.descriptortest module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-dict-walk-minimal-example-module">sarpy.BRUKERIO.dict_walk_minimal_example module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.lazy_property">sarpy.BRUKERIO.lazy_property module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.lowlevel">sarpy.BRUKERIO.lowlevel module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-masterlist-module">sarpy.BRUKERIO.masterlist module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.obj2dict">sarpy.BRUKERIO.obj2dict module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-oldtest-bruker-classes-module">sarpy.BRUKERIO.oldtest_BRUKER_classes module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-oldtest-sarlogger-module">sarpy.BRUKERIO.oldtest_SARlogger module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.oldtest_lowlevel">sarpy.BRUKERIO.oldtest_lowlevel module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-oldtest-write2nii-module">sarpy.BRUKERIO.oldtest_write2nii module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-parsejcamp-module">sarpy.BRUKERIO.parseJCAMP module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-test-lowlevel-module">sarpy.BRUKERIO.test_lowlevel module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.visu_pars_2_Nifti1Header">sarpy.BRUKERIO.visu_pars_2_Nifti1Header module</a></li>
<li><a class="reference internal" href="#sarpy-brukerio-watch-sdata-module">sarpy.BRUKERIO.watch_sdata module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO.write_parameter_stack">sarpy.BRUKERIO.write_parameter_stack module</a></li>
<li><a class="reference internal" href="#module-sarpy.BRUKERIO">Module contents</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="sarpy.html"
                          title="previous chapter">sarpy package</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="sarpy.DCE.html"
                          title="next chapter">sarpy.DCE package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sarpy.BRUKERIO.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h4><a href="https://github.com/DrSAR/SARlabpy">Link to Github repository</a></h4>
<h4><a href="https://github.com/DrSAR/SARlabpy/issues">Issues, Milestones, Bugs</a></h4>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sarpy.DCE.html" title="sarpy.DCE package"
             >next</a> |</li>
        <li class="right" >
          <a href="sarpy.html" title="sarpy package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">sarpy 5.0beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >sarpy Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="sarpy.html" >sarpy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">sarpy.BRUKERIO package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, SARlab members.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>