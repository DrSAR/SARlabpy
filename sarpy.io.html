<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>io Package &mdash; sarpy 0.1alpha documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="sarpy 0.1alpha documentation" href="index.html" />
    <link rel="up" title="sarpy Package" href="sarpy.html" />
    <link rel="next" title="setup Module" href="setup.html" />
    <link rel="prev" title="fmoosvi Package" href="sarpy.fmoosvi.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="setup.html" title="setup Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sarpy.fmoosvi.html" title="fmoosvi Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">sarpy 0.1alpha documentation</a> &raquo;</li>
          <li><a href="modules.html" >sarpy Documentation</a> &raquo;</li>
          <li><a href="sarpy.html" accesskey="U">sarpy Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="io-package">
<h1>io Package<a class="headerlink" href="#io-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-sarpy.io.AData_classes">
<span id="adata-classes-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">AData_classes</span></tt> Module<a class="headerlink" href="#module-sarpy.io.AData_classes" title="Permalink to this headline">¶</a></h2>
<p>Class definitions for the analysed data structures</p>
<dl class="class">
<dt id="sarpy.io.AData_classes.AData">
<em class="property">class </em><tt class="descclassname">sarpy.io.AData_classes.</tt><tt class="descname">AData</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.AData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="sarpy.io.AData_classes.AData.data">
<tt class="descname">data</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.AData.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="sarpy.io.AData_classes.AData.fromdata">
<em class="property">classmethod </em><tt class="descname">fromdata</tt><big>(</big><em>parent=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.AData.fromdata" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates an AData object from an array (maybe somehing else later)
It does not store it on disk. This would typically be done by the
ADataDict on assignment to a key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parent</strong> (<em>BRUKER_classes.PDATA_file</em>) &#8211; A parent has to be a Scan or some object that provides a UID</li>
<li><strong>data</strong> (<em>array</em>) &#8211; sourcedata</li>
<li><strong>meta</strong> (<em>dict</em>) &#8211; meta information in the form of a dictionary. It will have the
Parent uid added.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="sarpy.io.AData_classes.AData.fromfile">
<em class="property">classmethod </em><tt class="descname">fromfile</tt><big>(</big><em>filename</em>, <em>lazy=True</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.AData.fromfile" title="Permalink to this definition">¶</a></dt>
<dd><p>classmethod that can be used to initiatlize the AData object 
by reading the content from file. To use, issue:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adata_dir</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">adataroot</span><span class="o">+</span><span class="s">&#39;/*/*&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c"># take the first dir</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adata_dir_short</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">adataroot</span><span class="o">+</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">adata_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AData</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">adata_dir_short</span><span class="p">)</span>  
<span class="go">Analysed data based on PDATA (uid=...)</span>
<span class="go">  created on ...</span>
<span class="go">  parent: ...</span>
</pre></div>
</div>
<p>Admittedly this will rarely be required and most likely be done from
some other constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; points to the adataroot/uid/uid.*/ directory</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.AData_classes.ADataDict">
<em class="property">class </em><tt class="descclassname">sarpy.io.AData_classes.</tt><tt class="descname">ADataDict</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.ADataDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">_abcoll.MutableMapping</span></tt></p>
<p>A dictionary which perfoms some magic on value-by-key assignment</p>
<p>Pre-existing keys are bein checked against the new key.
This is inspired by an 
<a class="reference external" href="http://stackoverflow.com/a/3387975/607562">answer on stackoverflow</a>
to the question of how to perfectly override  a dict.</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.AData_classes.load_AData">
<tt class="descclassname">sarpy.io.AData_classes.</tt><tt class="descname">load_AData</tt><big>(</big><em>pdatas</em>, <em>dirname</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.load_AData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sarpy.io.AData_classes.mkdir_p">
<tt class="descclassname">sarpy.io.AData_classes.</tt><tt class="descname">mkdir_p</tt><big>(</big><em>path</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/AData_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.AData_classes.mkdir_p" title="Permalink to this definition">¶</a></dt>
<dd><p>feature that allows the creation of the intermediate directories.
it mimics the system call of mkdir -p</p>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.BRUKERIO">
<span id="brukerio-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">BRUKERIO</span></tt> Module<a class="headerlink" href="#module-sarpy.io.BRUKERIO" title="Permalink to this headline">¶</a></h2>
<p>Collection of BRUKER input routines</p>
<p>Handy functions to read BRUKER data and header files.</p>
<p>The logging is set up so that if the library user does nothing,
all will be silent. Details in :py:mod: SARlogger</p>
<dl class="function">
<dt id="sarpy.io.BRUKERIO.convert_int_float_string">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">convert_int_float_string</tt><big>(</big><em>param</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.convert_int_float_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.dict2string">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">dict2string</tt><big>(</big><em>d</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.dict2string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert dictionary to nicely looking multi-line string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> (<em>dict</em>) &#8211; input dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of strings</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p>This might be useful when turning the JCAMP-style dictionaries
into something that goes into a text display. Example use would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TE&#39;</span><span class="p">:</span><span class="mf">2.3</span><span class="p">,</span> <span class="s">&#39;TR&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s">&#39;NAME&#39;</span><span class="p">:</span><span class="s">&#39;random name&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">dict2string</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="go">                  TE : 2.3</span>
<span class="go">                  TR : 5</span>
<span class="go">                NAME : &#39;random name&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.fftbruker">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">fftbruker</tt><big>(</big><em>array</em>, <em>encoding=None</em>, <em>DCoffset=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.fftbruker" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper to fft bruker FIDs</p>
<p>returns the fft of a multi-dimensional BRUKER FID. It uses the
parameter &#8216;encoding&#8217; to decide over which dimensions to Fourier transform.
Typically, a 2D only needs FFT over 1st and 2nd dimension
(encoding = [1, 1, 0, 0]) whereas 3D files get a FT over three dimensions
(encoding = [1, 1, 1, 0]). The 4th dimension (repetitions) doesn&#8217;t
usually get FTed.</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.inner_value">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">inner_value</tt><big>(</big><em>somelist</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.inner_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return somelist[0] a one-element list or the whole list otherwise</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>somelist</strong> (<em>list</em>) &#8211; list that might contain only one element</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">element of somelist of somelist</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="mi">42</span><span class="p">])</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">])</span>
<span class="go">[42, 43]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([[</span><span class="mi">42</span><span class="p">]])</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([[</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">]])</span>
<span class="go">[42, 43]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">(</span><span class="s">&#39;spam&#39;</span><span class="p">)</span>
<span class="go">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="s">&#39;spam&#39;</span><span class="p">])</span>
<span class="go">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_value</span><span class="p">([</span><span class="s">&#39;spam&#39;</span><span class="p">,</span><span class="s">&#39;eggs&#39;</span><span class="p">,</span><span class="s">&#39;bacon&#39;</span><span class="p">])</span>
<span class="go">[&#39;spam&#39;, &#39;eggs&#39;, &#39;bacon&#39;]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method does not work for dictionaries (KeyError) 
or single character strings (infinite recursion)!</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.pairwise">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">pairwise</tt><big>(</big><em>iterable</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.pairwise" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a solution to the problem of looking ahead in a for loop
mentioned in on <a class="reference external" href="http://stackoverflow.com/questions/4197805/python-for-loop-look-ahead">stackoverflow:</a></p>
<p>&#8220;s -&gt; (s0,s1), (s1,s2), (s2, s3), ...&#8221;</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.read2dseq">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">read2dseq</tt><big>(</big><em>scandirname</em>, <em>visu_pars=None</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.read2dseq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s 2dseq file as a properly dimensioned array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>scandirname</strong> (<em>string</em>) &#8211; filename of the scan directory</li>
<li><strong>reco, d3proc, visu_pars</strong> (<em>dict</em>) &#8211; parameter files (as dict) that can be provided by caller
default: None which means they will be loaded by this function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dictionary with data, and header information. The data is
an array of BRUKER-reconstructed image data in the respecive proc
directory.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict with &#8216;data&#8217;:numpy array &#8216;header&#8217;:dict{&#8216;recpo&#8217;:..., &#8216;d3proc&#8217;:...}</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">IOERROR if directory non-existent</p>
</td>
</tr>
</tbody>
</table>
<p>This relies on numpy&#8217;s array functionality</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.readJCAMP">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">readJCAMP</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.readJCAMP" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse text file in JCAMP format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; filename of fid file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of labelled data records (LDR) with LDR-names as keys
and their content as values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body">IOERROR if opening file fails or passes on any other error</td>
</tr>
</tbody>
</table>
<p>The <em>JCAMP format</em> is a self-documenting, ASCII text file format
that is maintained by IUPAC (<a class="reference external" href="http://iupac.org/publications/pac/78/3/0613/">see a report
here</a>).
It consists of labelled data records (LDR) that start with a ##
and end when the next record begins.
They can span several lines. The data label is
enclosed between &#8216;##&#8217; and &#8216;=&#8217;. If it starts with a $, we are
dealing with a private LDR.</p>
<p>The issue of reading these is complicated due to the various
types of data (integers, floats, strings, arrays and nested
structures) that can be present.</p>
<p>~/data/readfidTest.ix1/subject:</p>
<div class="highlight-python"><pre>##$SUBJECT_name_string=( 64 )
&lt;Moosvi, readfidTest&gt;
##$SUBJECT_name=(&lt;Moosvi&gt;, &lt;readfidTest&gt;)

&gt;&gt;&gt; import os
&gt;&gt;&gt; a=readJCAMP(os.path.expanduser('~/data/stefan/nmr/readfidTest.ix1/subject'))
&gt;&gt;&gt; a['SUBJECT_name']
['&lt;Moosvi&gt;', '&lt;readfidTest&gt;']
&gt;&gt;&gt; a['SUBJECT_name_string']
'Moosvi, readfidTest'</pre>
</div>
<p>~/data/readfidTest.ix1/1/acqp:</p>
<div class="highlight-python"><pre>##$ACQ_user_filter=No
##$ACQ_dim_desc=( 2 )
Spatial Spatial
##$NR=1
##$D=( 64 )
0.00502257333333333 0 0.00066296 0.000114 0.000114 0 0.001886 0 2.5e-05 0 
0.000886 0.000886 0.000368 0 0 0 0 0 0 0 1e-05 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
##$TPQQ=( 16 )
(&lt;hermite.exc&gt;, 17.9862515696541, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 
30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0)
 (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0) (&lt;&gt;, 30, 0)
##$ACQ_grad_matrix=( 15, 3, 3 )
1 0 -0 0 1 0 0 -0 1 1 0 -0 0 1 0 0 -0 1 1 0 -0 0 1 0 0 -0 1 -0 0 1 -0 1 -0 1 
0 0 -0 0 1 -0 1 -0 1 0 0 0 0 1 1 -0 0 0 1 -0 0 0 1 1 -0 0 0 1 -0 0 0 1 1 -0 0 
0 1 -0 1 0 -0 0 1 0 0 -0 1 1 0 -0 0 1 0 0 -0 1 -0 0 1 -0 1 -0 1 0 0 -0 0 1 -0 
1 -0 1 0 0 -0 0 1 -0 1 -0 1 0 0 0 0 1 1 -0 0 0 1 -0 0 0 1 1 -0 0 0 1 -0

&gt;&gt;&gt; import os
&gt;&gt;&gt; a=readJCAMP(os.path.expanduser('~/data/stefan/nmr/readfidTest.ix1/1/acqp'))
&gt;&gt;&gt; a['ACQ_user_filter']
'No'
&gt;&gt;&gt; a['ACQ_dim_desc']
['Spatial', 'Spatial']
&gt;&gt;&gt; a['NR']
1
&gt;&gt;&gt; a['D'][0:4]
[0.00502257333333333, 0, 0.00066296, 0.000114]
&gt;&gt;&gt; a['TPQQ'][0:4]
[['&lt;hermite.exc&gt;', 17.9862515696541, 0], ['&lt;&gt;', 30, 0], ['&lt;&gt;', 30, 0], ['&lt;&gt;', 30, 0]]
&gt;&gt;&gt; a['TPQQ'][0]
['&lt;hermite.exc&gt;', 17.9862515696541, 0]
&gt;&gt;&gt; a['TPQQ'][0][1]
17.9862515696541
&gt;&gt;&gt; a['ACQ_grad_matrix'][0:20]
[1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0]</pre>
</div>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.readRFshape">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">readRFshape</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.readRFshape" title="Permalink to this definition">¶</a></dt>
<dd><p>reads BRUKERS RF shape files spnam0 etc that are stored with experiments</p>
<p>returns a dictionary with ready-to-use attributes for amplitude,
phase, bandwidth etc.</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.readfid">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">readfid</tt><big>(</big><em>fptr=None</em>, <em>acqp=None</em>, <em>method=None</em>, <em>untouched=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.readfid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s fid file as a properly dimensioned &amp; rearranged array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fptr</strong> (<em>FileType,StringType</em>) &#8211; filename of fid file or filehandle to open fid file</li>
<li><strong>acqp</strong> (<em>dict</em>) &#8211; dictionary of acqp parameters 
(default None: parameter file will be loaded)</li>
<li><strong>method</strong> (<em>dict</em>) &#8211; dictionary of method parameters 
(default None: parameter file will be loaded)</li>
<li><strong>untouched</strong> (<em>boolean</em>) &#8211; do not rearrange/reshape data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Flat (untouched = True) or Rearranged and assembled array of the acquire k-space</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">IOERROR if filesize and matrix description appear to be inconsistent</p>
</td>
</tr>
</tbody>
</table>
<p><strong>BRUKER manual D.14 File Formats (Raw data files)</strong></p>
<blockquote>
<div><p>The reconstruction assumes that the raw data to be reconstructed will
be located in a file named either fid or ser in the EXPNO directory.
Any averaging of the raw data must be done before the data is written
to the file, no post-acquisition averag- ing is done by the
reconstruction.</p>
<dl class="docutils">
<dt>K-format</dt>
<dd>The raw data file must be written in K-format to be processed by the TOPSPIN
processing software.  This means that every profile must be written
to the file at a posi- tion which is a multiple of 1K-bytes (1024 bytes).
Datasets which are imported may need to be reformatted. Both little-endian
and big-endian word formats are sup- ported, the BYTORDA parameter in the
acqp parameter file is assumed to correctly specify the format of the
raw data file. Finally, the raw data file is assumed to contain data only,
without any headers.</dd>
<dt>Packed format</dt>
<dd>Data to be processed with ParaVision can also be stored in packed format.
For this purpose the parameter GO_block_size must be set to continuous.</dd>
<dt>Integer formats</dt>
<dd>By default, raw data is stored in 32-bit signed integer format, real and
imaginary points of the complex signal interleaved. For applications where
the data range may not exceed 16-bit, e.g. when accumulation and oversampling
are disabled in analog mode, data can be stored as 16-bit short integers,
setting the parameter GO_raw_data_format to GO_16BIT_SGN_INT. A warning
message is displayed if an overflow occurs during data acquisition.</dd>
<dt>Floating point format</dt>
<dd>Alternatively, data can be stored in floating point format:
GO_raw_data_format = GO_32BIT_FLOAT. Note, that data not acquired in the
default 32-bit signed integer format cannot be processed with TOPSPIN but
only by the ParaVision reconstruction.</dd>
<dt>Order of data storage</dt>
<dd><p class="first">The raw data file usually contains the data in the order of acquisition.
There is only one exception: in case a pipeline filter (AU) is used to
process the raw data, the order of data storage is defined by the output
order of the filter.</p>
<p>For raw datasets acquired by ParaVision methods, ordering and size of the
data are described by the ACQP parameters contained in the file acqp:</p>
<blockquote class="last">
<div><ul>
<li><p class="first">ACQ_dim - Spatial/spectroscopic dimension of the experiment.</p>
</li>
<li><p class="first">ACQ_size[ ] - Array of length ACQ_dim with length of the given dimensions.
ACQ_size[0] counts real valued data and for this it must be an even number.
Real and imaginary data is stored shuffled. For experiments acquired with
multiple receivers (ACQ_experiment_mode == ParallelExperiment) the scans
from different receivers are appended. The number of active receivers is
derived from the number of selected receivers in the parameter array
GO_ReceiverSelect.</p>
</li>
<li><p class="first">NI - Number of objects. 
e.g. slices, but not purely!, could be slices*echoes</p>
</li>
<li><p class="first">ACQ_obj_order - Permutation of the order of the acquired objects.</p>
</li>
<li><p class="first">ACQ_phase_factor - Number of subsequent scans in the raw dataset belonging
to the same Object. Typically, this parameter is set to 1 which will keep
the cod- ing constant within a Multiplex step. If ACQ_phase_factor &gt; 1,
this parameter will give the number of consecutively acquired phase encoding
steps that belong to a single Object. Concerning phase increment:
see ACQ_rare_factor.</p>
</li>
<li><p class="first">ACQ_phase_enc_mode[ ] - Ordering scheme for scans within the k-space.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">parameter seems to be renamed to ACQ_phase_encoding_mode</p>
</div>
</div></blockquote>
</li>
<li><p class="first">ACQ_phase_enc_start[ ] - For positioning of first scan in phase encoding
scheme.</p>
</li>
<li><p class="first">ACQ_rare_factor - For positioning of the ACQ_phase_factor scans within the
k-space. In the case of ACQ_phase_factor &gt; 1 the phase encoding increment
is determined by ACQ_size[1] / ACQ_rare_factor.
ACQ_rare_factor = ACQ_phase_factor is used for RARE experiments.</p>
</li>
<li><p class="first">NR - Number of repeated experiments within the dataset.</p>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/1/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c"># TriPilot multi</span>
<span class="go">(128, 128, 15, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/2/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c"># FLASH 2D</span>
<span class="go">(256, 105, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/3/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c"># FLASH 3D --- THIS IS ACTUALLY WRONG!!</span>
<span class="go">(256, 105, 1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/4/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c"># MSME 2D</span>
<span class="go">(256, 105, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/5/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>   <span class="c"># MSME 3D</span>
<span class="go">(256, 105, 1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/6/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(256, 256, 15, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/7/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(256, 105, 5, 25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/8/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(256, 105, 5, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/9/fid&#39;</span><span class="p">))</span> 
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IOError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># fid fil 9 was missing due to incomplete scans</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/10/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(128, 32, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/11/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(128, 32, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span> <span class="o">=</span> <span class="n">readfid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/data/stefan/nmr/readfidTest.ix1/12/fid&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fid</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(4096, 1, 5, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO.readfidspectro">
<tt class="descclassname">sarpy.io.BRUKERIO.</tt><tt class="descname">readfidspectro</tt><big>(</big><em>fptr=None</em>, <em>untouched=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO.readfidspectro" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s fid file as a properly dimensioned &amp; rearranged array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fptr</strong> (<em>string or FileType</em>) &#8211; filename of fid file or filehandle to open fid file</li>
<li><strong>untouched</strong> (<em>boolean</em>) &#8211; Do not rearrange lines into slices and echos and such
in the fid in its form as found on disk</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">array of kspace data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">AssertError for various inconsistencies in data size or simply
misunderstandings of how the data is to be interpreted.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.BRUKERIO_ay">
<span id="brukerio-ay-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">BRUKERIO_ay</span></tt> Module<a class="headerlink" href="#module-sarpy.io.BRUKERIO_ay" title="Permalink to this headline">¶</a></h2>
<p>Collection of BRUKER input routines</p>
<p>Handy functions to read BRUKER data and header files.
Stefan A Reinsberg - Spring 2011, Vancouver
Modified by Andrew Yung - Spring 2013</p>
<dl class="function">
<dt id="sarpy.io.BRUKERIO_ay.read2dseq_visu">
<tt class="descclassname">sarpy.io.BRUKERIO_ay.</tt><tt class="descname">read2dseq_visu</tt><big>(</big><em>procdirname</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO_ay.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO_ay.read2dseq_visu" title="Permalink to this definition">¶</a></dt>
<dd><p>returns BRUKER&#8217;s 2dseq file as a properly dimensioned array</p>
<p>This relies on numpy&#8217;s array functionality</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKERIO_ay.readBrukerParx">
<tt class="descclassname">sarpy.io.BRUKERIO_ay.</tt><tt class="descname">readBrukerParx</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKERIO_ay.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKERIO_ay.readBrukerParx" title="Permalink to this definition">¶</a></dt>
<dd><p>parse Bruker parameter file (JCAMP format) and return as dictionary</p>
<p>The <em>JCAMP format</em> is a self-documenting, ASCII text file format that is 
maintained by IUPAC (<a class="reference external" href="http://www.iupac.org/objID/Article/pac7108x1549">http://www.iupac.org/objID/Article/pac7108x1549</a>).
It consists of labelled data records (LDR) that start with a ## and end
when the next record begins. They can span several lines. The data label is
enclosed between &#8216;##&#8217; and &#8216;=&#8217;. If it starts with a $, we are dealing with a
private LDR.</p>
<p>This is a version of Stefan&#8217;s readJCAMP function.  The only difference is
that this function parses the parameter values into their data type (it
doesn&#8217;t just leave the parameter values as strings).  The only exception is
if a structure array is detected; the function only extracts the elements
of this structure array as a string.</p>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.BRUKER_classes">
<span id="bruker-classes-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">BRUKER_classes</span></tt> Module<a class="headerlink" href="#module-sarpy.io.BRUKER_classes" title="Permalink to this headline">¶</a></h2>
<p>Class Definitions for BRUKER data</p>
<dl class="class">
<dt id="sarpy.io.BRUKER_classes.Experiment">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">Experiment</tt><big>(</big><em>root=None</em>, <em>absolute_root=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sarpy.io.BRUKER_classes.StudyCollection" title="sarpy.io.BRUKER_classes.StudyCollection"><tt class="xref py py-class docutils literal"><span class="pre">sarpy.io.BRUKER_classes.StudyCollection</span></tt></a></p>
<p>An Experiment is not BRUKER terminology. It is a grouping of several 
studies (that have scans themselves) by various criteria.
Typically, the patient name contains a root pointing to a common goal
of the performed scans. It is a bit like a patient with the relaxation
of the requirement of having identical SUBJECT_ids.</p>
<dl class="method">
<dt id="sarpy.io.BRUKER_classes.Experiment.find_studies">
<tt class="descname">find_studies</tt><big>(</big><em>root=None</em>, <em>absolute_root=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Experiment.find_studies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.JCAMP_file">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">JCAMP_file</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.JCAMP_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Represents a JCAMP encoded parameter file.</p>
<p>Parameters become attributes in this class</p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.PDATA_file">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">PDATA_file</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Initialize a processed data set that usually sits in <cite>*/pdata/[1-9]</cite>.</p>
<p>constructor expects a directory name (filename). It will look
for the 2dseq file, the d3proc and th reco file.</p>
<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.d3proc">
<tt class="descname">d3proc</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.d3proc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.data">
<tt class="descname">data</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.dimcomment">
<tt class="descname">dimcomment</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.dimcomment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.dimdesc">
<tt class="descname">dimdesc</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.dimdesc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.reco">
<tt class="descname">reco</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.reco" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.store_adata">
<tt class="descname">store_adata</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.store_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Store some secondary data for this PData scan.</p>
<p>See call signature of AData_classes.AData.fromdata</p>
<p>Would be nice to trigger an update in the adata list of the 
parent object (Scan). This might be hard. Sounds like Traits to me.</p>
</dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.uid">
<tt class="descname">uid</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.uid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.visu_pars">
<tt class="descname">visu_pars</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.visu_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.PDATA_file.write2nii">
<tt class="descname">write2nii</tt><big>(</big><em>filename</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.PDATA_file.write2nii" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the data originating from a 2dseq (BRUKER) reconstruction to
a Nifti file format.</p>
<p>TODO: Header information from visu_pars.</p>
<dl class="docutils">
<dt>Examples:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span> <span class="o">=</span> <span class="n">Scan</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;readfidTest.ix1&#39;</span><span class="p">,</span><span class="s">&#39;3&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(),</span><span class="s">&#39;readfid.nii&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;writing tempfile </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">fname</span><span class="p">)</span> 
<span class="go">writing tempfile ...readfid.nii</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scn</span><span class="o">.</span><span class="n">pdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">write2nii</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.Patient">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">Patient</tt><big>(</big><em>patient_name</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Patient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sarpy.io.BRUKER_classes.StudyCollection" title="sarpy.io.BRUKER_classes.StudyCollection"><tt class="xref py py-class docutils literal"><span class="pre">sarpy.io.BRUKER_classes.StudyCollection</span></tt></a></p>
<p>A Patient is a special Collection of studies in that the subject_id
has to agree from one study to the next</p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.Scan">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">Scan</tt><big>(</big><em>root</em>, <em>absolute_root=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Object to represent a BRUKER scan consisting, typically, of FID_file 
and PDATA_file(s).</p>
<p>The __init__() method expects the filename to be a directory. It will
try around a bit (filenames inside the directory) before throwing an 
exception. It will also give up if it can&#8217;t find any of the
acqp, method, fid or one 2dseq file.</p>
<p>Simple Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span> <span class="o">=</span> <span class="n">Scan</span><span class="p">(</span><span class="s">&#39;readfidTest.ix1/3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span><span class="p">(</span><span class="n">exp3</span><span class="p">)</span>    
<span class="go">[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dict__&#39;, &#39;__doc__&#39;, &#39;__format__&#39;, </span>
<span class="go"> &#39;__getattribute__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__module__&#39;, &#39;__new__&#39;, </span>
<span class="go"> &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__setattr__&#39;, </span>
<span class="go"> &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;__weakref__&#39;, &#39;acqp&#39;, </span>
<span class="go"> &#39;adata&#39;, &#39;dirname&#39;, &#39;fid&#39;, &#39;method&#39;, &#39;pdata&#39;, &#39;pdata_uids&#39;, </span>
<span class="go"> &#39;shortdirname&#39;, &#39;store_adata&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">ACQ_protocol_name</span>
<span class="go">&#39;FLASH_bas(modified)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">ORIGIN</span>
<span class="go">&#39;Bruker BioSpin MRI GmbH&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp3</span><span class="o">.</span><span class="n">acqp</span><span class="o">.</span><span class="n">DATE</span>
<span class="go">&#39;Thu Feb 21 19:01:26 2013 PST (UT-8h)&#39;</span>
</pre></div>
</div>
<p>Also, Scan has a pretty way of falling over when no fid file is detected:</p>
<div class="highlight-python"><pre>&gt;&gt;&gt; Scan('readfidTest.ix1/9') 
Traceback (most recent call last):
    ...
IOError:...</pre>
</div>
<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.acqp">
<tt class="descname">acqp</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.acqp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.adata">
<tt class="descname">adata</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.adata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.fid">
<tt class="descname">fid</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.fid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.method">
<tt class="descname">method</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.pdata">
<tt class="descname">pdata</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.pdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Scan.pdata_uids">
<tt class="descname">pdata_uids</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.pdata_uids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.Scan.store_adata">
<tt class="descname">store_adata</tt><big>(</big><em>pdata_idx=0</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Scan.store_adata" title="Permalink to this definition">¶</a></dt>
<dd><p>Store an AData set for one of the processed children of this scan.
Typically the first one (pdata_idx=0)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.Study">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">Study</tt><big>(</big><em>root</em>, <em>absolute_root=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Study" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A study in BRUKER parlance is a collection of scans performed on
on subject (typically within a day, without interruption). A study
directory is expected to contain a JCAMP file &#8216;subject&#8217; and have one
or more subdirectories which are scans.</p>
<dl class="method">
<dt id="sarpy.io.BRUKER_classes.Study.find_scan_by_protocol">
<tt class="descname">find_scan_by_protocol</tt><big>(</big><em>protocol_name</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Study.find_scan_by_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.BRUKER_classes.Study.scans">
<tt class="descname">scans</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.Study.scans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.BRUKER_classes.StudyCollection">
<em class="property">class </em><tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">StudyCollection</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.StudyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A StudyCollection can have multiple studies (in BRUKER speak) which can in 
turn have multiple scans. It can be initialised by pointing it 
to a scan or study. This should be a superclass too (?), e.g. the Patient and 
the Experiment class.</p>
<dl class="method">
<dt id="sarpy.io.BRUKER_classes.StudyCollection.add_study">
<tt class="descname">add_study</tt><big>(</big><em>study=None</em>, <em>by_name=None</em>, <em>by_uid=None</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.StudyCollection.add_study" title="Permalink to this definition">¶</a></dt>
<dd><p>search through database to find anything that matches root</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>study</strong> (<em>Study</em>) &#8211; add the indicated study</li>
<li><strong>by_name</strong> (<em>string</em>) &#8211; search through database with the indicated string</li>
<li><strong>by_uid</strong> (<em>string</em>) &#8211; search through database by UID. This is potentially very slow</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.StudyCollection.find_scan_by_protocol">
<tt class="descname">find_scan_by_protocol</tt><big>(</big><em>protocol_name</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.StudyCollection.find_scan_by_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.BRUKER_classes.StudyCollection.get_SUBJECT_id">
<tt class="descname">get_SUBJECT_id</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.StudyCollection.get_SUBJECT_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKER_classes.natural_sort">
<tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">natural_sort</tt><big>(</big><em>l</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.natural_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort a list by a natural sort order (number ascending) and even if
bracketed by blocks of alpha-characters.</p>
<p>This is based on code a blog post by <a class="reference external" href="http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html">Jeff Atwood</a>.
It is also discussed on <a class="reference external" href="http://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort">stackoverflow</a>.</p>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.BRUKER_classes.strip_all_but_classname">
<tt class="descclassname">sarpy.io.BRUKER_classes.</tt><tt class="descname">strip_all_but_classname</tt><big>(</big><em>obj</em>, <em>class_str</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/BRUKER_classes.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.BRUKER_classes.strip_all_but_classname" title="Permalink to this definition">¶</a></dt>
<dd><p>Nicely format the class_str that is used in some of the __str__ calls</p>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.SARlogger">
<span id="sarlogger-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">SARlogger</span></tt> Module<a class="headerlink" href="#module-sarpy.io.SARlogger" title="Permalink to this headline">¶</a></h2>
<p>Custom Logger to be used across modules</p>
<p>To setup logging in your code. Your module needs to initiate logging using
the custom SARlogger.Good info to be found at the 
<a class="reference external" href="http://docs.python.org/2/howto/logging.html#logging-basic-tutorial">Logging Tutorial</a>.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#make the SARlogger features available</span>
<span class="kn">from</span> <span class="nn">sarpy</span> <span class="kn">import</span> <span class="n">SARlogger</span>
<span class="c">#test logging for BRUKERIO</span>
<span class="kn">import</span> <span class="nn">BRUKERIO</span>
<span class="n">SARlogger</span><span class="o">.</span><span class="n">initiate_logging</span><span class="p">(</span><span class="n">BRUKERIO</span><span class="p">)</span>
</pre></div>
</div>
<p>At this point, a console handler that issues anything that&#8217;s a WARNING or 
more severe (higher level) will be written to to the console. 
If you  also desire output to 
a file, another convenience function in SARlogger can be used
to attach another handler (with another log level and formatter):</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">SARlogger</span><span class="o">.</span><span class="n">add_file_handler</span><span class="p">(</span><span class="n">BRUKERIO</span><span class="p">)</span>
</pre></div>
</div>
<dl class="function">
<dt id="sarpy.io.SARlogger.add_file_handler">
<tt class="descclassname">sarpy.io.SARlogger.</tt><tt class="descname">add_file_handler</tt><big>(</big><em>module</em>, <em>formatter=None</em>, <em>handler=None</em>, <em>level=None</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/SARlogger.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.SARlogger.add_file_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add handler for logging to file. typically with lower level and timestamps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module</strong> (<em>module</em>) &#8211; module whose logger to add the handler to</li>
<li><strong>level</strong> (<em>int</em>) &#8211; log level for the entire logger, default logging.DEBUG(=10)
This is equivalent to handler_level option in
<a class="reference internal" href="#sarpy.io.SARlogger.initiate_logging" title="sarpy.io.SARlogger.initiate_logging"><tt class="xref py py-func docutils literal"><span class="pre">initiate_logging()</span></tt></a></li>
<li><strong>formatter</strong> &#8211; default provides date, time, level, module and message</li>
<li><strong>handler</strong> &#8211; default provides a FileHandler (that prints to /tmp/sarpy.log)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.SARlogger.change_logger_level">
<tt class="descclassname">sarpy.io.SARlogger.</tt><tt class="descname">change_logger_level</tt><big>(</big><em>module</em>, <em>level=None</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/SARlogger.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.SARlogger.change_logger_level" title="Permalink to this definition">¶</a></dt>
<dd><p>This changes the overall logger level. Above in :py:func: initiate_logging,
the level for the individual handler was being set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module</strong> (<em>module</em>) &#8211; module whose logger to change the logger level for</li>
<li><strong>level</strong> (<em>int</em>) &#8211; log level for the entire logger, default logging.DEBUG(=10)
This is equivalent to logger_level option in
<a class="reference internal" href="#sarpy.io.SARlogger.initiate_logging" title="sarpy.io.SARlogger.initiate_logging"><tt class="xref py py-func docutils literal"><span class="pre">initiate_logging()</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sarpy.io.SARlogger.initiate_logging">
<tt class="descclassname">sarpy.io.SARlogger.</tt><tt class="descname">initiate_logging</tt><big>(</big><em>module</em>, <em>formatter=None</em>, <em>handler=None</em>, <em>handler_level=None</em>, <em>logger_level=None</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/SARlogger.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.SARlogger.initiate_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate logging for a module (in the sarpy package). This assumes 
a module has been imported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module</strong> (<em>module</em>) &#8211; Module object that points to module in the sarpy package 
framework (collection of libraries? modules?).</li>
<li><strong>handler_level</strong> (<em>int</em>) &#8211; log level for the handler, default logging.WARNING(=30)</li>
<li><strong>logger_level</strong> (<em>int</em>) &#8211; log level for the entire logger, default logging.DEBUG(=10)
Use <a class="reference internal" href="#sarpy.io.SARlogger.change_logger_level" title="sarpy.io.SARlogger.change_logger_level"><tt class="xref py py-meth docutils literal"><span class="pre">change_logger_level()</span></tt></a> to change the overall level</li>
<li><strong>formatter</strong> &#8211; default provides time, level, module and message</li>
<li><strong>handler</strong> &#8211; default provides a StreamHandler (that prints to the console)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The module in question will have set up minimal logging. A NullHandler 
has been set so the default logging (methods in the libraries should
emit appropriate log message at opportune times) is swallowed. If this
handlers is overwritten, logging can commence.</p>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.check_fid_acqp_method">
<span id="check-fid-acqp-method-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">check_fid_acqp_method</span></tt> Module<a class="headerlink" href="#module-sarpy.io.check_fid_acqp_method" title="Permalink to this headline">¶</a></h2>
<p>acqp, method, fid, 2dseq. This results in a score of
1 +   2 +     4 +  8 = 15. If one is missing, the score is less.
========================================</p>
</div>
<div class="section" id="module-sarpy.io.congrid">
<span id="congrid-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">congrid</span></tt> Module<a class="headerlink" href="#module-sarpy.io.congrid" title="Permalink to this headline">¶</a></h2>
<p>Rebinning example from he SciPy.org Cookbook</p>
<dl class="function">
<dt id="sarpy.io.congrid.congrid">
<tt class="descclassname">sarpy.io.congrid.</tt><tt class="descname">congrid</tt><big>(</big><em>a</em>, <em>newdims</em>, <em>method='linear'</em>, <em>centre=False</em>, <em>minusone=False</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/congrid.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.congrid.congrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Arbitrary resampling of source array to new dimension sizes.
Currently only supports maintaining the same number of dimensions.
To use 1-D arrays, first promote them to shape (x,1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>a</strong> (<em>numpy.ndarray</em>) &#8211; input array</li>
<li><strong>newdims</strong> (<em>list</em>) &#8211; new dimensions</li>
<li><strong>method</strong> (<em>string</em>) &#8211; <cite>neighbour</cite> - closest value from original data
<cite>nearest</cite> and <cite>linear</cite> - uses n x 1-D interpolations using 
scipy.interpolate.interp1d
(see Numerical Recipes for validity of use of n 1-D interpolations)
<cite>spline</cite> - uses ndimage.map_coordinates</li>
<li><strong>centre</strong> (<em>boolean</em>) &#8211; True - interpolation points are at the centres of the bins
False - points are at the front edge of the bin</li>
<li><strong>minusone</strong> (<em>boolean</em>) &#8211; For example- inarray.shape = (i,j) &amp; new dimensions = (x,y)
False - inarray is resampled by factors of (i/x) * (j/y)
True - inarray is resampled by(i-1)/(x-1) * (j-1)/(y-1)
This prevents extrapolation one element beyond bounds of input array.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Uses the same parameters and creates the same co-ordinate lookup points
as IDL&#8217;&#8217;s congrid routine, which apparently originally came from a VAX/VMS
routine of the same name.</p>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.descriptortest">
<span id="descriptortest-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">descriptortest</span></tt> Module<a class="headerlink" href="#module-sarpy.io.descriptortest" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Feb 28 13:19:35 2013</p>
<p>&#64;author: stefan</p>
<dl class="class">
<dt id="sarpy.io.descriptortest.C">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">C</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.C" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="sarpy.io.descriptortest.C.a">
<tt class="descname">a</tt><em class="property"> = 'forty two'</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.C.a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.Cnew">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">Cnew</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.Cnew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="sarpy.io.descriptortest.Cnew.data">
<tt class="descname">data</tt><em class="property"> = [42, 42, 42]</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.Cnew.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.D">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">D</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.Dnew">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">Dnew</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.Dnew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.dict_plus">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">dict_plus</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.dict_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.lazy_property_desc">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">lazy_property_desc</tt><big>(</big><em>fget</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.lazy_property_desc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sarpy.io.descriptortest.tryout">
<em class="property">class </em><tt class="descclassname">sarpy.io.descriptortest.</tt><tt class="descname">tryout</tt><big>(</big><em>someval</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.tryout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="sarpy.io.descriptortest.tryout.adata">
<tt class="descname">adata</tt><em class="property"> = None</em><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.tryout.adata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.descriptortest.tryout.getname">
<tt class="descname">getname</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.tryout.getname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sarpy.io.descriptortest.tryout.name">
<tt class="descname">name</tt><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.tryout.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sarpy.io.descriptortest.tryout.setname">
<tt class="descname">setname</tt><big>(</big><em>value</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/descriptortest.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.descriptortest.tryout.setname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sarpy.io.lazy_property">
<span id="lazy-property-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">lazy_property</span></tt> Module<a class="headerlink" href="#module-sarpy.io.lazy_property" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Mar 21 16:06:35 2013</p>
<p>&#64;author: stefan</p>
<dl class="class">
<dt id="sarpy.io.lazy_property.lazy_property">
<em class="property">class </em><tt class="descclassname">sarpy.io.lazy_property.</tt><tt class="descname">lazy_property</tt><big>(</big><em>fget</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/lazy_property.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.lazy_property.lazy_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Meant to be used for lazy evaluation of an object attribute.
property should represent non-mutable data, as it replaces itself.</p>
<p>An example illustrates the use. First define a class that contains
a lazy_property. That call it and observe how the calculation is 
only performed once.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@lazy_property</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">calcs</span> <span class="o">=</span> <span class="mi">42</span> <span class="c"># do a lot of calculation here</span>
<span class="gp">... </span>        <span class="k">print</span><span class="p">(</span><span class="s">&#39;phew, this took a lot of effort - glad I do this so rarely...&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">calcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">=</span><span class="n">Test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">__dict__</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">results</span>
<span class="go">phew, this took a lot of effort - glad I do this so rarely...</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">results</span>  <span class="c"># on a second call the calculation is not needed !</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">__dict__</span>  <span class="c"># see how results is no a proper attribute</span>
<span class="go">{&#39;results&#39;: 42}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-sarpy.io.obj2dict">
<span id="obj2dict-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">obj2dict</span></tt> Module<a class="headerlink" href="#module-sarpy.io.obj2dict" title="Permalink to this headline">¶</a></h2>
<p>Created on Sat Mar 16 22:28:37 2013</p>
<p>&#64;author: stefan</p>
<dl class="function">
<dt id="sarpy.io.obj2dict.obj2dict">
<tt class="descclassname">sarpy.io.obj2dict.</tt><tt class="descname">obj2dict</tt><big>(</big><em>obj</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/obj2dict.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.obj2dict.obj2dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sarpy.io.obj2dict.show_tree">
<tt class="descclassname">sarpy.io.obj2dict.</tt><tt class="descname">show_tree</tt><big>(</big><em>obj</em><big>)</big><a class="reference external" href="http://github.com/DrSAR/SARlabpy/tree/master/sarpy/io/obj2dict.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sarpy.io.obj2dict.show_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">io Package</a><ul>
<li><a class="reference internal" href="#module-sarpy.io.AData_classes"><tt class="docutils literal"><span class="pre">AData_classes</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.BRUKERIO"><tt class="docutils literal"><span class="pre">BRUKERIO</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.BRUKERIO_ay"><tt class="docutils literal"><span class="pre">BRUKERIO_ay</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.BRUKER_classes"><tt class="docutils literal"><span class="pre">BRUKER_classes</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.SARlogger"><tt class="docutils literal"><span class="pre">SARlogger</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.check_fid_acqp_method"><tt class="docutils literal"><span class="pre">check_fid_acqp_method</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.congrid"><tt class="docutils literal"><span class="pre">congrid</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.descriptortest"><tt class="docutils literal"><span class="pre">descriptortest</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.lazy_property"><tt class="docutils literal"><span class="pre">lazy_property</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-sarpy.io.obj2dict"><tt class="docutils literal"><span class="pre">obj2dict</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sarpy.fmoosvi.html"
                        title="previous chapter">fmoosvi Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="setup.html"
                        title="next chapter">setup Module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/sarpy.io.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h4><a href="https://github.com/DrSAR/SARlabpy">Link to Github repository</a></h4>
<h4><a href="https://github.com/DrSAR/SARlabpy/issues">Issues, Milestones, Bugs</a></h4>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="setup.html" title="setup Module"
             >next</a> |</li>
        <li class="right" >
          <a href="sarpy.fmoosvi.html" title="fmoosvi Package"
             >previous</a> |</li>
        <li><a href="index.html">sarpy 0.1alpha documentation</a> &raquo;</li>
          <li><a href="modules.html" >sarpy Documentation</a> &raquo;</li>
          <li><a href="sarpy.html" >sarpy Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, SARlab members.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>