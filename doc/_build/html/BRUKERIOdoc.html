

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BRUKERIO documentation &mdash; SARlabpy 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="SARlabpy 0.1 documentation" href="index.html" />
    <link rel="prev" title="Examples for BRUKERIO" href="BRUKERIOexamples.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BRUKERIOexamples.html" title="Examples for BRUKERIO"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">SARlabpy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-SARlabpy.io.BRUKERIO">
<span id="brukerio-documentation"></span><h1>BRUKERIO documentation<a class="headerlink" href="#module-SARlabpy.io.BRUKERIO" title="Permalink to this headline">¶</a></h1>
<p>Collection of BRUKER input routines</p>
<p>Handy functions to read BRUKER data and header files.</p>
<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.dict2string">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">dict2string</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#dict2string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.dict2string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert dictionary to nicely looking multi-line string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> &#8211; input dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Type :</th><td class="field-body">dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of strings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p>This might be useful when turning the JCAMP-style dictionaries
into something that goes into a text display. Example use would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TE&#39;</span><span class="p">:</span><span class="mf">2.3</span><span class="p">,</span> <span class="s">&#39;TR&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s">&#39;NAME&#39;</span><span class="p">:</span><span class="s">&#39;random name&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">dict2string</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="go">                  TE : 2.3</span>
<span class="go">                  TR : 5</span>
<span class="go">                NAME : &#39;random name&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.fftbruker">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">fftbruker</tt><big>(</big><em>array, encoding=[1, 1, 0, 0], DCoffset=False</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#fftbruker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.fftbruker" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper to fft bruker FIDs</p>
<p>returns the fft of a multi-dimensional BRUKER FID. It uses the
parameter &#8216;encoding&#8217; to decide over which dimensions to Fourier transform.
Typically, a 2D only needs FFT over 1st and 2nd dimension
(encoding = [1, 1, 0, 0]) whereas 3D files get a FT over three dimensions
(encoding = [1, 1, 1, 0]). The 4th dimension (repetitions) doesn&#8217;t
usually get FTed.</p>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.read2dseq">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">read2dseq</tt><big>(</big><em>procdirname</em>, <em>enhanced=0</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#read2dseq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.read2dseq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s 2dseq file as a properly dimensioned array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>procdirname</strong> (<em>string</em>) &#8211; filename of directory that contains the processed data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary with data, and headerinformation. The data is
an array of BRUKER-reconstructed image data in the respecive proc
directory.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict with &#8216;data&#8217;:numpy array &#8216;header&#8217;:dict{&#8216;recpo&#8217;:..., &#8216;d3proc&#8217;:...}</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body">IOERROR if directory non-existent</td>
</tr>
</tbody>
</table>
<p>This relies on numpy&#8217;s array functionality</p>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.readJCAMP">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">readJCAMP</tt><big>(</big><em>filename</em>, <em>removebrackets=True</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#readJCAMP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.readJCAMP" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse text file in JCAMP format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>string</em>) &#8211; filename of fid file</li>
<li><strong>removebrackets</strong> (<em>boolean</em>) &#8211; format strings without extra brackets?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of labelled data records (LDR) with LDR-names as keys and their content as values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">IOERROR if opening file fails or passes on any other error</p>
</td>
</tr>
</tbody>
</table>
<p>The <em>JCAMP format</em> is a self-documenting, ASCII text file format
that is maintained by IUPAC (<a class="reference external" href="http://iupac.org/publications/pac/78/3/0613/">see a report
here</a>).
It consists of labelled data records (LDR) that start with a ##
and end when the next record begins.
They can span several lines. The data label is
enclosed between &#8216;##&#8217; and &#8216;=&#8217;. If it starts with a $, we are
dealing with a private LDR.</p>
<p>The issue of reading these is complicated due to the various
types of data (integers, floats, strings, arrays and nested
structures) that can be present. Currently no attempt is made to
perform type conversion before returning a dictionary of the JCAMP
file.</p>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.readRFshape">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">readRFshape</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#readRFshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.readRFshape" title="Permalink to this definition">¶</a></dt>
<dd><p>reads BRUKERS RF shape files spnam0 etc that are stored with experiments</p>
<p>returns a dictionary with ready-to-use attributes for amplitude,
phase, bandwidth etc.</p>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.readfid">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">readfid</tt><big>(</big><em>fptr=None</em>, <em>untouched=False</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#readfid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.readfid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s fid file as a properly dimensioned &amp; rearranged array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fptr</strong> (<em>string or FileType</em>) &#8211; filename of fid file or filehandle to open fid file</li>
<li><strong>untouched</strong> (<em>boolean</em>) &#8211; leave the fid as found without rearranging lines into slices and echos?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Flat (untouched = True) or Rearranged and assembled array of the acquire k-space</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">IOERROR if filesize and matrix description appear to be inconsistent</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="SARlabpy.io.BRUKERIO.readfidspectro">
<tt class="descclassname">SARlabpy.io.BRUKERIO.</tt><tt class="descname">readfidspectro</tt><big>(</big><em>fptr=None</em>, <em>untouched=False</em><big>)</big><a class="reference internal" href="_modules/SARlabpy/io/BRUKERIO.html#readfidspectro"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SARlabpy.io.BRUKERIO.readfidspectro" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BRUKER&#8217;s fid file as a properly dimensioned &amp; rearranged array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fptr</strong> (<em>string or FileType</em>) &#8211; filename of fid file or filehandle to open fid file</li>
<li><strong>untouched</strong> (<em>boolean</em>) &#8211; Do not rearrange lines into slices and echos and such
in the fid in its form as found on disk</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">array of kspace data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">AssertError for various inconsistencies in data size or simply
misunderstandings of how the data is to be interpreted.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="BRUKERIOexamples.html"
                        title="previous chapter">Examples for BRUKERIO</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/BRUKERIOdoc.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BRUKERIOexamples.html" title="Examples for BRUKERIO"
             >previous</a> |</li>
        <li><a href="index.html">SARlabpy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, SARlab members.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>